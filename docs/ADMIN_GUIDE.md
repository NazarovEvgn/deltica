# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Deltica

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞](#–æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
2. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏)
3. [–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π](#—Å–æ–∑–¥–∞–Ω–∏–µ-—Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö-–∫–æ–ø–∏–π)
4. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-—Å–∏—Å—Ç–µ–º—ã)
5. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º)
6. [–†–∞–±–æ—Ç–∞ —Å –∞—Ä—Ö–∏–≤–æ–º](#—Ä–∞–±–æ—Ç–∞-—Å-–∞—Ä—Ö–∏–≤–æ–º)
7. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏)
8. [–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
9. [–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤](#–∞–Ω–∞–ª–∏–∑-–ª–æ–≥–æ–≤)
10. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-—Ç–∏–ø–æ–≤—ã—Ö-–ø—Ä–æ–±–ª–µ–º)
11. [–†–µ–≥–ª–∞–º–µ–Ω—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç—ã](#—Ä–µ–≥–ª–∞–º–µ–Ω—Ç–Ω—ã–µ-—Ä–∞–±–æ—Ç—ã)
12. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

---

## –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (—É—Ç—Ä–æ–º)
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, RAM, HDD)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Docker
- ‚úÖ –û—Ç–≤–µ—Ç—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (backup)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ –∑–∞–¥–∞—á–∏

- ‚úÖ –ü–æ–ª–Ω–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è (–ë–î + —Ñ–∞–π–ª—ã)
- ‚úÖ –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (—É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –†–µ–≤–∏–∑–∏—è —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏

- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ‚úÖ –û—Ç—á–µ—Ç –æ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

Deltica –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ñ–∞–π–ª–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥** –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ YAML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

**–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: `config/users_config.yaml`

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### –ß–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
docker exec -it deltica_postgres psql -U deltica_user -d deltica_prod

# SQL –∑–∞–ø—Ä–æ—Å
SELECT id, username, role, full_name, department FROM users ORDER BY role, username;

# –í—ã—Ö–æ–¥
\q
```

#### –ß–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/deltica
docker exec -it deltica_backend uv run python -c "
from backend.core.database import SessionLocal
from backend.app.models import User

db = SessionLocal()
users = db.query(User).all()
for user in users:
    print(f'{user.username:20} {user.role:10} {user.full_name:30} {user.department}')
db.close()
"
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### –®–∞–≥ 1: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nano config/users_config.yaml
```

**–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**

```yaml
users:
  - username: "admin"
    password: "admin123"  # –ò–ó–ú–ï–ù–ò–¢–ï –ü–ê–†–û–õ–¨!
    role: "admin"
    full_name: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –°–∏—Å—Ç–µ–º—ã"
    department: "–ò–¢ –æ—Ç–¥–µ–ª"

  - username: "new_admin"
    password: "–°–ò–õ–¨–ù–´–ô_–ü–ê–†–û–õ–¨"
    role: "admin"
    full_name: "–ù–æ–≤—ã–π –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"
    department: "–ò–¢ –æ—Ç–¥–µ–ª"
```

**–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞–Ω—Ç–∞:**

```yaml
  - username: "ivanov"
    password: "lab123"  # –ò–ó–ú–ï–ù–ò–¢–ï –ü–ê–†–û–õ–¨!
    role: "laborant"
    full_name: "–ò–≤–∞–Ω–æ–≤ –ò.–ò."
    department: "lbr"  # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–¥ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
```

**–ö–æ–¥—ã –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π:**
- `lbr` - –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è (–õ–ë–†)
- `gtl` - –ì–¢–õ
- `smtsik` - –°–ú–¢–°–∏–ö
- `ciks` - –¶–ò–ö–°
- `ctd` - –¶–¢–î
- `gro` - –ì–†–û
- `tro` - –¢—Ä–û
- `opo` - –û–ü–û
- `oitzs` - –û–ò–¢–ó–°
- `krc` - –ö–†–¶
- `aho` - –ê–•–û
- `other` - –î—Ä—É–≥–∏–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è

#### –®–∞–≥ 2: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
docker exec -it deltica_backend uv run python backend/scripts/sync_users.py
```

**–í—ã–≤–æ–¥ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:**
```
Created user: new_admin (admin)
Synced user: ivanov (laborant)
Total users in database: 15
```

#### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ API
curl -X POST "http://localhost:8000/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"new_admin","password":"–°–ò–õ–¨–ù–´–ô_–ü–ê–†–û–õ–¨"}'

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JWT token
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/users_config.yaml`
2. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `sync_users.py`

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ SQL (–ø—Ä—è–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ)

```bash
docker exec -it deltica_postgres psql -U deltica_user -d deltica_prod
```

```sql
-- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ö—ç—à–∞ –ø–∞—Ä–æ–ª—è (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Python –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ bcrypt hash)
-- UPDATE users SET hashed_password = '$2b$12$HASH_HERE' WHERE username = 'ivanov';
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è bcrypt hash (Python):**

```bash
docker exec -it deltica_backend uv run python -c "
from passlib.context import CryptContext
pwd_context = CryptContext(schemes=['bcrypt'], deprecated='auto')
print(pwd_context.hash('NEW_PASSWORD'))
"
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ö—ç—à –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ UPDATE –∑–∞–ø—Ä–æ—Å.

### –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### –°–ø–æ—Å–æ–± 1: –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è)

–£–¥–∞–ª–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ `users_config.yaml` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `sync_users.py`.

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: –°–∫—Ä–∏–ø—Ç `sync_users.py` –ù–ï —É–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –ë–î, —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç.

#### –°–ø–æ—Å–æ–± 2: –ñ–µ—Å—Ç–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –ë–î

```sql
-- –û–°–¢–û–†–û–ñ–ù–û! –ù–µ–æ–±—Ä–∞—Ç–∏–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
DELETE FROM users WHERE username = 'old_user';
```

### –°–º–µ–Ω–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/users_config.yaml`
2. –ò–∑–º–µ–Ω–∏—Ç–µ `role: "laborant"` –Ω–∞ `role: "admin"` (–∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `sync_users.py`

**–ü—Ä–∏–º–µ—Ä:**

```yaml
# –ë—ã–ª–æ:
  - username: "ivanov"
    role: "laborant"

# –°—Ç–∞–ª–æ:
  - username: "ivanov"
    role: "admin"
```

---

## –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. –ù–∞–∂–º–∏—Ç–µ **"–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å"** ‚Üí **"Backup –ë–î"**
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è backup
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–°–æ–∑–¥–∞—Ç—å backup"**
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–æ–±—ã—á–Ω–æ 10-30 —Å–µ–∫—É–Ω–¥)
6. –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `backend/backups/`

**–§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞**: `backup_YYYYMMDD_HHMMSS.sql`

**–ü—Ä–∏–º–µ—Ä**: `backup_20251026_150000.sql`

### –†—É—á–Ω–æ–π backup —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

#### –ü–æ–ª–Ω—ã–π backup

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/deltica

# 1. Backup PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker exec deltica_postgres pg_dump -U deltica_user deltica_prod > backup_$(date +%Y%m%d_%H%M%S).sql

# 2. Backup –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
tar -czf uploads_backup_$(date +%Y%m%d).tar.gz backend/uploads/

# 3. Backup –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
tar -czf pinned_docs_backup_$(date +%Y%m%d).tar.gz backend/uploads/pinned_documents/

# 4. Backup –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
tar -czf config_backup_$(date +%Y%m%d).tar.gz config/ .env.production

# 5. –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ –ø–∞–ø–∫—É backup
mkdir -p /backup/deltica/
mv *.sql *.tar.gz /backup/deltica/
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `/opt/deltica/backup.sh`:

```bash
#!/bin/bash
set -e

BACKUP_DIR="/backup/deltica"
DATE=$(date +%Y%m%d_%H%M%S)

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏
mkdir -p $BACKUP_DIR

# Backup –ë–î
docker exec deltica_postgres pg_dump -U deltica_user deltica_prod > $BACKUP_DIR/backup_${DATE}.sql

# Backup —Ñ–∞–π–ª–æ–≤ (–∫–∞–∂–¥—ã–µ 7 –¥–Ω–µ–π)
DAY_OF_WEEK=$(date +%u)
if [ $DAY_OF_WEEK -eq 7 ]; then
    tar -czf $BACKUP_DIR/uploads_backup_${DATE}.tar.gz backend/uploads/
fi

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö backup (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "backup_*.sql" -mtime +30 -delete

echo "Backup completed: $DATE"
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron:**

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É (backup –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 2:00 –Ω–æ—á–∏)
0 2 * * * /opt/deltica/backup.sh >> /var/log/deltica_backup.log 2>&1
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup

#### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ backend
docker stop deltica_backend

# 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î
docker exec -i deltica_postgres psql -U deltica_user deltica_prod < /backup/deltica/backup_20251026_150000.sql

# 3. –ó–∞–ø—É—Å–∫ backend
docker start deltica_backend
```

#### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

```bash
# –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ –∞—Ä—Ö–∏–≤–∞
tar -xzf /backup/deltica/uploads_backup_20251026.tar.gz -C /opt/deltica/
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ backup

–ò—Å—Ç–æ—Ä–∏—è backup —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `backup_history`:

```sql
SELECT * FROM backup_history ORDER BY created_at DESC LIMIT 10;
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å ‚Üí Backup –ë–î ‚Üí –ò—Å—Ç–æ—Ä–∏—è backup

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã

### –ü–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. –ù–∞–∂–º–∏—Ç–µ **"–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å"** ‚Üí **"–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"**
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–∞–Ω–µ–ª—å —Å –¥–≤—É–º—è –≤–∫–ª–∞–¥–∫–∞–º–∏:
   - **–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã**
   - **–õ–æ–≥–∏**

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

#### –û—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î:**
- üü¢ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ
- üî¥ –û—Ç–∫–ª—é—á–µ–Ω–æ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU:**
- % –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ / –í—Å–µ–≥–æ (GB)
- % –∑–∞–≥—Ä—É–∑–∫–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ / –í—Å–µ–≥–æ (GB)
- % –∑–∞–≥—Ä—É–∑–∫–∏

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª–æ–≥–æ–≤:**
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (INFO, WARNING, ERROR)

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–í–∫–ª–∞–¥–∫–∞ "–õ–æ–≥–∏" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 –∑–∞–ø–∏—Å–µ–π –∏–∑ `backend/logs/deltica.log`.

**–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞:**
- üîµ **INFO** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- üü° **WARNING** - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- üî¥ **ERROR** - –æ—à–∏–±–∫–∏

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ª–æ–≥–æ–≤:**
- Timestamp (–¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è)
- –£—Ä–æ–≤–µ–Ω—å (level)
- –°–æ–æ–±—â–µ–Ω–∏–µ (message)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (user) - –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ
- IP-–∞–¥—Ä–µ—Å (ip) - –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ
- –ü—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞ (path) - –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–µ—Ç–æ–¥ (method) - –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –°—Ç–∞—Ç—É—Å (status) - –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (duration) - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

#### –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –°–ø–∏—Å–æ–∫ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
docker stats

# –í—ã–≤–æ–¥:
# CONTAINER        CPU %   MEM USAGE / LIMIT     MEM %   NET I/O
# deltica_backend  5.23%   256MB / 8GB          3.20%   1.2kB / 850B
# deltica_postgres 2.10%   512MB / 8GB          6.40%   850B / 1.2kB
```

#### –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –õ–æ–≥–∏ backend (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫)
docker logs deltica_backend --tail 100

# –õ–æ–≥–∏ PostgreSQL
docker logs deltica_postgres --tail 100

# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f deltica_backend
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
docker exec -it deltica_postgres psql -U deltica_user -d deltica_prod
```

```sql
-- –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
SELECT pg_size_pretty(pg_database_size('deltica_prod'));

-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
SELECT 'equipment' AS table, COUNT(*) FROM equipment
UNION ALL
SELECT 'verification', COUNT(*) FROM verification
UNION ALL
SELECT 'users', COUNT(*) FROM users;

-- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
SELECT COUNT(*) FROM pg_stat_activity WHERE datname = 'deltica_prod';

-- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
SELECT query, calls, total_time, mean_time
FROM pg_stat_statements
ORDER BY mean_time DESC
LIMIT 10;
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞

```bash
# –û–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
df -h

# –†–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ uploads
du -sh /opt/deltica/backend/uploads

# –†–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ backups
du -sh /opt/deltica/backend/backups

# –†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤
du -sh /opt/deltica/backend/logs

# –†–∞–∑–º–µ—Ä Docker volumes
docker system df -v
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º

### –ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

–î–ª—è –∏–º–ø–æ—Ä—Ç–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏–∑ Excel –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/data_import_guide.md`

**–û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏:**

1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ Excel —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏
2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `backend/scripts/import_equipment_data.py`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SQL
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —á–µ—Ä–µ–∑ `execute_import_sql.py`

### –ú–∞—Å—Å–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQL –∑–∞–ø—Ä–æ—Å—ã:

**–ü—Ä–∏–º–µ—Ä 1: –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –≥—Ä—É–ø–ø—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è**

```sql
-- –ü–µ—Ä–µ–≤–æ–¥ –≤—Å–µ—Ö –º–∞–Ω–æ–º–µ—Ç—Ä–æ–≤ –∏–∑ –õ–ë–† –≤ –ì–¢–õ
UPDATE equipment
SET equipment_id = (
    SELECT id FROM responsibility
    WHERE responsibility.equipment_id = equipment.id
)
WHERE equipment_name LIKE '%–ú–∞–Ω–æ–º–µ—Ç—Ä%';

UPDATE responsibility
SET department = 'gtl'
WHERE equipment_id IN (
    SELECT id FROM equipment WHERE equipment_name LIKE '%–ú–∞–Ω–æ–º–µ—Ç—Ä%'
);
```

**–ü—Ä–∏–º–µ—Ä 2: –ú–∞—Å—Å–æ–≤–∞—è –∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è**

```sql
-- –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –Ω–∞ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—é
UPDATE equipment
SET verification_state = 'state_storage'
WHERE equipment_type = 'IO' AND equipment_name LIKE '%–ù–∞—Å–æ—Å%';
```

### –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–µ–π

```sql
-- –ü–æ–∏—Å–∫ –¥—É–±–ª–µ–π –ø–æ –∑–∞–≤–æ–¥—Å–∫–æ–º—É –Ω–æ–º–µ—Ä—É
SELECT factory_number, COUNT(*)
FROM equipment
GROUP BY factory_number
HAVING COUNT(*) > 1;

-- –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–µ–π (–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º ID)
DELETE FROM equipment
WHERE id NOT IN (
    SELECT MIN(id)
    FROM equipment
    GROUP BY factory_number
);
```

---

## –†–∞–±–æ—Ç–∞ —Å –∞—Ä—Ö–∏–≤–æ–º

### –ú–∞—Å—Å–æ–≤–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQL:

```sql
-- –ü—Ä–∏–º–µ—Ä: –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—à–µ 15 –ª–µ—Ç
-- (–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å backend API)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ backend –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ö–∏–≤–∞

–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –∞—Ä—Ö–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏:

```sql
-- –£–¥–∞–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π —Å—Ç–∞—Ä—à–µ 5 –ª–µ—Ç
DELETE FROM archived_equipment
WHERE archived_at < NOW() - INTERVAL '5 years';
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞—Ä—Ö–∏–≤–∞

```sql
-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º
SELECT archive_reason, COUNT(*)
FROM archived_equipment
GROUP BY archive_reason;

-- –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü
SELECT COUNT(*)
FROM archived_equipment
WHERE archived_at > NOW() - INTERVAL '1 month';
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

### –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–î–æ–∫—É–º–µ–Ω—Ç—ã"**
3. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç"**
4. –í—ã–±–µ—Ä–∏—Ç–µ PDF —Ñ–∞–π–ª (–º–∞–∫—Å–∏–º—É–º 50 MB)
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: `backend/uploads/pinned_documents/`

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
ls -lh backend/uploads/pinned_documents/

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤—Ä—É—á–Ω—É—é (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
cp /path/to/document.pdf backend/uploads/pinned_documents/

# –ó–∞—Ç–µ–º –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å—å –≤ –ë–î:
docker exec -it deltica_postgres psql -U deltica_user -d deltica_prod
INSERT INTO pinned_documents (filename, file_path, uploaded_by, uploaded_at)
VALUES ('document.pdf', 'pinned_documents/document.pdf', 1, NOW());
```

### –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è (—Ñ–∞–π–ª + –∑–∞–ø–∏—Å—å –≤ –ë–î).

---

## –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### VACUUM –∏ ANALYZE

```sql
-- –û—á–∏—Å—Ç–∫–∞ "–º–µ—Ä—Ç–≤—ã—Ö" —Å—Ç—Ä–æ–∫ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
VACUUM ANALYZE;

-- –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
VACUUM ANALYZE equipment;

-- –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (—Ç—Ä–µ–±—É–µ—Ç —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)
VACUUM FULL;
```

#### –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

```sql
-- –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤—Å–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
REINDEX DATABASE deltica_prod;

-- –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã
REINDEX TABLE equipment;
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–≤–∞–∫—É—É–º–∞

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ autovacuum
SHOW autovacuum;

-- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)
ALTER SYSTEM SET autovacuum_naptime = '5min';
ALTER SYSTEM SET autovacuum_vacuum_scale_factor = 0.1;
SELECT pg_reload_conf();
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π
SELECT conname, conrelid::regclass, confrelid::regclass
FROM pg_constraint
WHERE contype = 'f';

-- –ü–æ–∏—Å–∫ "–æ—Å–∏—Ä–æ—Ç–µ–≤—à–∏—Ö" –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–π
SELECT v.*
FROM verification v
LEFT JOIN equipment e ON v.equipment_id = e.id
WHERE e.id IS NULL;

-- –ü–æ–∏—Å–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –±–µ–∑ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
SELECT e.*
FROM equipment e
LEFT JOIN verification v ON e.id = v.equipment_id
WHERE v.id IS NULL;
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

```sql
-- –í–∫–ª—é—á–µ–Ω–∏–µ pg_stat_statements (–µ—Å–ª–∏ –Ω–µ –≤–∫–ª—é—á–µ–Ω)
CREATE EXTENSION IF NOT EXISTS pg_stat_statements;

-- –¢–æ–ø –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
SELECT
    query,
    calls,
    total_time,
    mean_time,
    max_time
FROM pg_stat_statements
ORDER BY mean_time DESC
LIMIT 10;

-- –°–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
SELECT pg_stat_statements_reset();
```

---

## –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

**–§–∞–π–ª –ª–æ–≥–æ–≤**: `backend/logs/deltica.log`

**–§–æ—Ä–º–∞—Ç**: JSON (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ = –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏:**

```json
{
  "timestamp": "2025-10-26T15:30:00.123Z",
  "level": "INFO",
  "message": "HTTP request",
  "user": "admin",
  "ip": "192.168.1.50",
  "method": "GET",
  "path": "/main-table/",
  "status": 200,
  "duration": 0.045
}
```

### –ü–æ–∏—Å–∫ –≤ –ª–æ–≥–∞—Ö

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
tail -n 100 backend/logs/deltica.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep '"level":"ERROR"' backend/logs/deltica.log

# –ü–æ–∏—Å–∫ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
grep '"user":"admin"' backend/logs/deltica.log

# –ü–æ–∏—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–±–æ–ª–µ–µ 1 —Å–µ–∫—É–Ω–¥—ã)
grep '"duration":[1-9]' backend/logs/deltica.log

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
grep '"path"' backend/logs/deltica.log | cut -d'"' -f8 | sort | uniq -c | sort -rn

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–æ –¥–Ω—è–º
grep '"level":"ERROR"' backend/logs/deltica.log | cut -d'"' -f4 | cut -d'T' -f1 | uniq -c
```

### –ê–Ω–∞–ª–∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

```bash
# –¢–æ–ø-10 —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
grep '"path"' backend/logs/deltica.log | \
  jq -r '.path' | \
  sort | uniq -c | sort -rn | head -10
```

### –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

```bash
# –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞
grep 'Authentication failed' backend/logs/deltica.log | \
  jq -r '[.timestamp, .user, .ip] | @csv'
```

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps -a

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker logs deltica_backend --tail 50
```

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose restart

# –ò–ª–∏ –ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose down
docker compose up -d
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ PostgreSQL
docker logs deltica_postgres --tail 50

# –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
docker exec -it deltica_postgres psql -U deltica_user -d deltica_prod
```

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ PostgreSQL
docker restart deltica_postgres

# –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä—É–ø—Ü–∏–∏
docker exec -it deltica_postgres pg_isready
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker exec -it deltica_postgres psql -U deltica_user -d deltica_prod -c "SELECT pg_size_pretty(pg_database_size('deltica_prod'));"
```

**–†–µ—à–µ–Ω–∏–µ:**

```sql
-- –û—á–∏—Å—Ç–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
VACUUM ANALYZE;
REINDEX DATABASE deltica_prod;
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏—Å–∫–∞

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
df -h
du -sh /opt/deltica/backend/uploads
du -sh /opt/deltica/backend/logs
```

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö backup
find /opt/deltica/backend/backups -name "*.sql" -mtime +30 -delete

# –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
truncate -s 0 /opt/deltica/backend/logs/deltica.log

# –û—á–∏—Å—Ç–∫–∞ Docker –∫—ç—à–∞
docker system prune -a
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î
docker exec -it deltica_postgres psql -U deltica_user -d deltica_prod -c "SELECT username, role FROM users WHERE username='ivanov';"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
grep 'Authentication' backend/logs/deltica.log | tail -20
```

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ sync_users.py
# 1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config/users_config.yaml
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
docker exec -it deltica_backend uv run python backend/scripts/sync_users.py
```

---

## –†–µ–≥–ª–∞–º–µ–Ω—Ç–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

```
‚ñ° –°–æ–∑–¥–∞—Ç—å backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ (–º–∏–Ω–∏–º—É–º 10 GB)
‚ñ° –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ ERROR
‚ñ° –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å "Up")
‚ñ° –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∞–≤—Ç–æ–≤–∞–∫—É—É–º —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### –ï–∂–µ–º–µ—Å—è—á–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

```
‚ñ° –ü–æ–ª–Ω—ã–π backup (–ë–î + —Ñ–∞–π–ª—ã)
‚ñ° –£–¥–∞–ª–µ–Ω–∏–µ backup —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
‚ñ° –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö)
‚ñ° –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã
‚ñ° –†–µ–≤–∏–∑–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—É–¥–∞–ª–∏—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö)
‚ñ° –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
‚ñ° –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚ñ° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (VACUUM, REINDEX)
```

### –ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

```
‚ñ° –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
‚ñ° –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞)
‚ñ° –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
‚ñ° –û—Ç—á–µ—Ç –æ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã (uptime, –æ—à–∏–±–∫–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
‚ñ° –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π (—Ç–µ—Å—Ç–æ–≤–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
‚ñ° –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### 1. –ü–∞—Ä–æ–ª–∏

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (–º–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –ú–µ–Ω—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏ –∫–∞–∂–¥—ã–µ 90 –¥–Ω–µ–π
- ‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- ‚úÖ –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ

#### 2. –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH –∫–ª—é—á–∏ –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç–µ root login —á–µ—Ä–µ–∑ SSH
- ‚úÖ –í–∫–ª—é—á–∏—Ç–µ firewall –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ—Ä—Ç—ã
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞

#### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- ‚úÖ PostgreSQL –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∏–∑ Docker —Å–µ—Ç–∏ (–Ω–µ —Å–Ω–∞—Ä—É–∂–∏)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ë–î
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ backup
- ‚úÖ –•—Ä–∞–Ω–∏—Ç–µ backup –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ (–Ω–µ –Ω–∞ —Ç–æ–º –∂–µ —Å–µ—Ä–≤–µ—Ä–µ)

#### 4. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è (24 —á–∞—Å–∞)
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL injection (—á–µ—Ä–µ–∑ ORM)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
netstat -tuln | grep LISTEN

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã —Ç–æ–ª—å–∫–æ:
# 8000 (API)
# 22 (SSH)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤—Ö–æ–¥–æ–≤
last -20

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
lastb -20
```

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**: NazarovEvgn
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: https://github.com/NazarovEvgn/deltica
- **Issues**: https://github.com/NazarovEvgn/deltica/issues

---

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 26.10.2025
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0
