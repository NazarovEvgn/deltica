# Описание предметной области

Организация представляет собой крупную компанию в нефтегазовой отрасли.

Для метрологического обеспечения деятельности организации необходимо приложение, которое решает задачи, связанные с учетом метрологического оборудования.

К метрологическому оборудованию относятся средства измерения (СИ) и испытательное оборудование (ИО).

Метрологическое оборудование проходит периодическую верификацию. Для средств измерений верификацией являются процедуры поверки и калибровки. Для испытательного оборудования верификацией является процедура аттестации.

Верификацию выполняют специализированные центры метрологии (Исполнители).

Результат верификации может быть:
- **Положительным** — оборудование годное и соответствует требованиям.
- **Отрицательным** — оборудование не годное.

При положительном результате верификации выдается документ о верификации, в котором указан срок действия верификации.  
При отрицательном результате верификации выдается документ, который называется *извещением о непригодности*.

Сведения, содержащиеся в документе о верификации, хранятся в базе данных сервиса **ФГИС Аршин**.

---

# Описание организации

Организация состоит из нескольких филиалов. В каждом филиале есть несколько лабораторий, которые используют метрологическое оборудование.

- В каждой лаборатории есть ответственный за метрологическое оборудование. Его роль в приложении — **лаборант**.  
- В каждом филиале есть ответственный за метрологическое обеспечение всех лабораторий филиала. Его роль в приложении — **администратор**.

---

# Описание сущностей и их атрибутов

## equipment (метрологическое оборудование)
- id (Serial, PK)  
- Наименование (equipment_name: str)  
- Модель/марка (equipment_model: str)  
- Вид оборудования (equipment_type: enum: СИ, ИО)  
- Метрологическая характеристика (equipment_specs: str)  
- Заводской номер (factory_number: str)  
- Инвентарный номер (inventory_number: str)  
- Год выпуска (equipment_year: smallint)  

## verification (верификация)
- id (Serial, PK)  
- equipment_id (int, FK → equipment.id)  
- Тип верификации (verification_type: str: поверка, калибровка, аттестация)  
- Номер в ГосРеестре (registry_number: str)  
- Меж верификационный интервал (verification_interval: int, мес.)  
- Дата последней верификации (verification_date: date dd.mm.yyyy)  
- Дата окончания действия верификации (verification_due: date dd.mm.yyyy)  
- Запланированный период сдачи на следующую верификацию (verification_plan: date mm.yyyy)  
- Состояние (verification_state: enum: state_work, state_storage, state_verification, state_repair, state_archived)  
- Статус (status: enum: status_fit, status_expired, status_expiring, status_storage, status_verification, status_repair)  

## responsibility (данные о владельце оборудования, ответственном лице и исполнителе)
- id (Serial, PK)  
- equipment_id (int, FK → equipment.id)  
- Подразделение (department: str)  
- Ответственное лицо (responsible_person: str)  
- Организация-исполнитель верификации (verifier_org: str)  

## finance (данные о стоимости услуг и счетах)
- id (Serial, PK)  
- equipment_model (int, FK → equipment.model)  
- Стартовая стоимость услуги верификации (cost_rate: float, зависит от equipment_model)  
- Количество (quantity: int)  
- Дополнительный коэффициент (coefficient: float)  
- Итоговая цена (total_cost: float)  
- Номер счета (invoice_number: str)  
- Оплаченная сумма (paid_amount: float)  
- Дата оплаты (payment_date: date dd.mm.yyyy)  

---

# Описание задач (use cases)

## Задачи лаборанта
- Просмотр данных о метрологическом оборудовании своего подразделения и данных о верификации.  
- Просмотр документов.  

## Задачи администратора
- CRUD данных.  
- Upload, Read, Delete файлов документов.  
