# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –î–µ–ø–ª–æ–π Deltica –Ω–∞ Windows Server

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:

1. ‚úÖ Backend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è production (.env.example)
2. ‚úÖ –°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ backend –∫–∞–∫ Windows Service
3. ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–π –ë–î –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. ‚úÖ Frontend —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞ (config.json)
5. ‚úÖ Windows SSO –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
6. ‚úÖ Electron desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üì¶ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –¥–µ–ø–ª–æ—è:

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
- Windows Server (–ª—é–±–∞—è –≤–µ—Ä—Å–∏—è)
- **PostgreSQL 17** ‚úÖ (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- Python 3.13
- uv (pip install uv)
- NSSM –¥–ª—è Windows Service

### –ù–∞ –∫–ª–∏–µ–Ω—Ç–∞—Ö:
- Windows 10/11
- –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ Deltica.exe (–Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å)

## üéØ –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (10 –º–∏–Ω—É—Ç)

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
   ```
   C:\Deltica\
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.13 –∏ uv:**
   ```cmd
   # –°–∫–∞—á–∞–π—Ç–µ Python 3.13 —Å python.org
   # –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
   pip install uv
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```cmd
   cd C:\Deltica
   uv sync
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env:**
   ```cmd
   copy .env.example .env
   notepad .env
   ```

   –ò–∑–º–µ–Ω–∏—Ç–µ:
   - `DB_PASSWORD` = –≤–∞—à –ø–∞—Ä–æ–ª—å PostgreSQL
   - `JWT_SECRET_KEY` = —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ 32+ —Å–∏–º–≤–æ–ª–æ–≤
   - –û—Å—Ç–∞–ª—å–Ω–æ–µ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

5. **–°–æ–∑–¥–∞–π—Ç–µ –ë–î –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
   ```cmd
   cd deployment
   run_migrations.bat
   ```

6. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
   ```cmd
   sync_users.bat
   ```

7. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ backend –∫–∞–∫ Windows Service:**

   –°–Ω–∞—á–∞–ª–∞ —Å–∫–∞—á–∞–π—Ç–µ [NSSM](https://nssm.cc/download) –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ `nssm.exe` –≤ –ø–∞–ø–∫—É `C:\Deltica\deployment\`

   –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
   ```cmd
   install_service.bat
   ```

8. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ:**
   ```cmd
   netsh advfirewall firewall add rule name="Deltica Backend" dir=in action=allow protocol=TCP localport=8000
   ```

9. **–£–∑–Ω–∞–π—Ç–µ IP —Å–µ—Ä–≤–µ—Ä–∞:**
   ```cmd
   ipconfig
   ```
   –ó–∞–ø–∏—à–∏—Ç–µ IPv4 –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: `192.168.1.100`)

‚úÖ **–°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤!** API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://192.168.1.100:8000`

---

### –®–∞–≥ 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ (5 –º–∏–Ω—É—Ç)

–ù–∞ –º–∞—à–∏–Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:

1. **–û–±–Ω–æ–≤–∏—Ç–µ –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞:**
   ```json
   // frontend/public/config.json
   {
     "apiUrl": "http://192.168.1.100:8000"
   }
   ```
   ‚ö†Ô∏è –ó–∞–º–µ–Ω–∏—Ç–µ `192.168.1.100` –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

2. **–°–æ–±–µ—Ä–∏—Ç–µ Electron —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫:**
   ```cmd
   cd frontend
   npm run electron:build:win
   ```

3. **–ì–æ—Ç–æ–≤—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫:**
   ```
   frontend\dist-electron\Deltica-Setup-0.0.0.exe
   ```

---

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞—Ö (2 –º–∏–Ω—É—Ç—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞)

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `Deltica-Setup-0.0.0.exe` –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –ü–ö
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
3. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Deltica —Å —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–π–¥—É—Ç —á–µ—Ä–µ–∑ Windows SSO

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ backend

**–ó–∞–ø—É—Å–∫:**
```cmd
net start DelticaBackend
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```cmd
net stop DelticaBackend
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:**
```cmd
net stop DelticaBackend && net start DelticaBackend
```

**–õ–æ–≥–∏:**
```
C:\Deltica\backend\logs\deltica.log
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**Backend (—Å–µ—Ä–≤–µ—Ä):**
```cmd
net stop DelticaBackend
cd C:\Deltica
git pull
uv sync
cd deployment
run_migrations.bat
net start DelticaBackend
```

**–ö–ª–∏–µ–Ω—Ç—ã:**
1. –°–æ–±–µ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
2. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é Deltica
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é

---

## üõ†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

### HTTPS –≤–º–µ—Å—Ç–æ HTTP

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω HTTPS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏):

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ uvicorn —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º
3. –û–±–Ω–æ–≤–∏—Ç–µ `config.json` –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞—Ö: `https://192.168.1.100:8000`

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ `deployment/README.md`

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):**
- –ê–¥–º–∏–Ω ‚Üí Backup –ë–î ‚Üí –°–æ–∑–¥–∞—Ç—å backup
- –§–∞–π–ª—ã: `C:\Deltica\backend\backups\`

**–†—É—á–Ω–æ–µ (PostgreSQL):**
```cmd
pg_dump -U postgres -d deltica_db > C:\Backups\deltica_%date%.sql
```

---

## ‚ùì –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `C:\Deltica\backend\logs\deltica.log`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ PostgreSQL

**–ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `config.json` (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π IP?)
- –ü–∏–Ω–≥—É–π—Ç–µ —Å–µ—Ä–≤–µ—Ä: `ping 192.168.1.100`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç: `telnet 192.168.1.100 8000`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**Windows SSO –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `config/users_config.yaml`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `cd deployment && sync_users.bat`

---

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `deployment/README.md`

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è:

**–°–µ—Ä–≤–µ—Ä:**
- [ ] Python 3.13 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] uv —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (uv sync)
- [ ] .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ë–î —Å–æ–∑–¥–∞–Ω–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] NSSM —Å–∫–∞—á–∞–Ω
- [ ] Windows Service —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] –ü–æ—Ä—Ç 8000 –æ—Ç–∫—Ä—ã—Ç –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ
- [ ] IP —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø–∏—Å–∞–Ω

**–ö–ª–∏–µ–Ω—Ç—ã:**
- [ ] config.json –æ–±–Ω–æ–≤–ª–µ–Ω —Å IP —Å–µ—Ä–≤–µ—Ä–∞
- [ ] Electron installer —Å–æ–±—Ä–∞–Ω
- [ ] –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –º–∞—à–∏–Ω—ã
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∏ –∑–∞–ø—É—â–µ–Ω–æ
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏

---

**–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!** üéâ

–í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏: ~20 –º–∏–Ω—É—Ç (—Å–µ—Ä–≤–µ—Ä + –ø–µ—Ä–≤—ã–π –∫–ª–∏–µ–Ω—Ç)
